{% extends "base.html" %}

{% block title %}BOOPING - Boop Your Friends{% endblock %}

{% block content %}
<div class="landing-page">
    <div class="landing-header">
        <h1 class="title">BOOPING</h1>
        <p class="subtitle">No talking. No drama. Just boops.</p>

        {% if stats %}
        <div class="global-counter">
            <span class="counter-number">{{ "{:,}".format(stats.total_boops) }}</span>
            <span class="counter-label">boops sent</span>
        </div>
        {% endif %}
    </div>

    <div class="auth-container">
        <div class="auth-tabs">
            <button class="tab-btn active" data-tab="login">Login</button>
            <button class="tab-btn" data-tab="register">Register</button>
        </div>

        <form id="login-form" class="auth-form active" action="{{ url_for('auth.login') }}" method="POST">
            <div class="form-group">
                <label for="login-username">Username</label>
                <input type="text" id="login-username" name="username" required autocomplete="username">
            </div>
            <div class="form-group">
                <label for="login-password">Password</label>
                <input type="password" id="login-password" name="password" required autocomplete="current-password">
            </div>
            <button type="submit" class="btn btn-primary">Login</button>
        </form>

        <form id="register-form" class="auth-form" action="{{ url_for('auth.register') }}" method="POST">
            <div class="form-group">
                <label for="reg-username">Username</label>
                <input type="text" id="reg-username" name="username" required minlength="3" maxlength="20" autocomplete="username">
                <small>3-20 characters, lowercase</small>
            </div>
            <div class="form-group">
                <label for="reg-display-name">Display Name</label>
                <input type="text" id="reg-display-name" name="display_name" required maxlength="50" placeholder="What should we call you?">
                <small>This is what others see - emojis welcome!</small>
            </div>
            <div class="form-group">
                <label for="reg-password">Password</label>
                <input type="password" id="reg-password" name="password" required minlength="4" autocomplete="new-password">
            </div>
            <button type="submit" class="btn btn-primary">Start Booping</button>
        </form>
    </div>

    <div class="landing-footer">
        <p>Inspired by <a href="https://www.tumblr.com/staff/747209811898368000/boop-breakdown" target="_blank">Tumblr's Boop-o-meter</a></p>
    </div>
</div>

<script>
    // Tab switching
    document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', () => {
            document.querySelectorAll('.tab-btn').forEach(b => b.classList.remove('active'));
            document.querySelectorAll('.auth-form').forEach(f => f.classList.remove('active'));
            btn.classList.add('active');
            document.getElementById(btn.dataset.tab + '-form').classList.add('active');
        });
    });
</script>
{% endblock %}
